apiVersion: v1
kind: ConfigMap
metadata:
  name: vector-dashboard
  namespace: observability
  labels:
    grafana_dashboard: "1"
  annotations:
    source: "https://grafana.com/grafana/dashboards/21954-vector-cluster-monitoring/"
    github: "https://github.com/vectordotdev/vector/issues/4838"
data:
  vector-dashboard.json: |
    {"__inputs":[{"name":"DS_MIMIR-INFRA","label":"Mimir-infra","description":"","type":"datasource","pluginId":"prometheus","pluginName":"Prometheus"}],"__elements":{},"__requires":[{"type":"grafana","id":"grafana","name":"Grafana","version":"12.2.1"},{"type":"panel","id":"piechart","name":"Pie chart","version":""},{"type":"datasource","id":"prometheus","name":"Prometheus","version":"1.0.0"},{"type":"panel","id":"stat","name":"Stat","version":""},{"type":"panel","id":"timeseries","name":"Time series","version":""}],"annotations":{"list":[{"$$hashKey":"object:1058","builtIn":1,"datasource":{"type":"datasource","uid":"grafana"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"}]},"description":"Vector.dev Kubernetes cluster monitoring dashboard","editable":true,"fiscalYearStartMonth":0,"graphTooltip":1,"id":null,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":390,"panels":[],"title":"Overview","type":"row"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"description":"A ratio from 0 to 1 of the load on a component. A value of 0 would indicate a completely idle component that is simply waiting for input. A value of 1 would indicate a that is never idle. This value is updated every 5 seconds.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":1},"id":391,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"avg by (component_type) (vector_utilization)","legendFormat":"{{component_id}}","range":true,"refId":"A"}],"title":"Vector utilization","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"description":"A ratio from 0 to 1 of the load on a component. A value of 0 would indicate a completely idle component that is simply waiting for input. A value of 1 would indicate a that is never idle. This value is updated every 5 seconds.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"unit":"percentunit"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":1},"id":392,"options":{"legend":{"displayMode":"list","placement":"right","showLegend":true},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"sort":"desc","tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"avg by (component_type) (vector_utilization)","legendFormat":"{{component_id}}","range":true,"refId":"A"}],"title":"Vector utilization","type":"piechart"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":9},"id":393,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_events_total{component_kind=\"source\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_events_total{component_kind=\"transform\", host=~\"$pod\"}[1m]))","hide":false,"legendFormat":"__auto","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_events_total{component_kind=\"sink\", host=~\"$pod\"}[1m]))","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"Events count (events/sec)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":9},"id":398,"options":{"legend":{"displayMode":"list","placement":"right","showLegend":true},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"sort":"desc","tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_events_total{component_kind=\"source\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_events_total{component_kind=\"transform\", host=~\"$pod\"}[1m]))","hide":false,"legendFormat":"__auto","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_events_total{component_kind=\"sink\", host=~\"$pod\"}[1m]))","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"Events count (events/sec)","type":"piechart"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":17},"id":394,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_event_bytes_total{component_kind=\"source\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_event_bytes_total{component_kind=\"transform\", host=~\"$pod\"}[1m]))","hide":false,"legendFormat":"__auto","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_event_bytes_total{component_kind=\"sink\", host=~\"$pod\"}[1m]))","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"Events size(bytes/sec)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":17},"id":399,"options":{"legend":{"displayMode":"list","placement":"right","showLegend":true},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"sort":"desc","tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_event_bytes_total{component_kind=\"source\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_event_bytes_total{component_kind=\"transform\", host=~\"$pod\"}[1m]))","hide":false,"legendFormat":"__auto","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_kind) (rate(vector_component_received_event_bytes_total{component_kind=\"sink\", host=~\"$pod\"}[1m]))","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"Events size(bytes/sec)","type":"piechart"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"bytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":25},"id":397,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(host) (vector_buffer_byte_size{buffer_type=\"memory\", host=~\"$pod\"})","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Buffer size","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"bytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":25},"id":400,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(host) (vector_buffer_byte_size{buffer_type=\"memory\", host=~\"$pod\"})","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Buffer size","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"stat"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":33},"id":369,"panels":[{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":306},"id":360,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"8.1.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_id) (rate(vector_component_received_events_total{component_kind=\"source\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Input events count (events/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"alias":"Total","mode":"reduceRow","reduce":{"include":["internal_metrics","journald","kubernetes_logs"],"reducer":"sum"},"replaceFields":false}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"description":"The rate of bytes processed by the component.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":306},"id":326,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"9.4.13","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","exemplar":false,"expr":"sum by (component_id) (rate(vector_component_received_event_bytes_total{component_kind=\"source\", host=~\"$pod\"}[1m]))","format":"time_series","group":[],"instant":false,"interval":"","legendFormat":"{{ component_id }}","metricColumn":"none","range":true,"rawQuery":false,"refId":"A"}],"title":"Input bytes rate (bytes/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"alias":"Total","mode":"reduceRow","reduce":{"include":["internal_metrics","journald","kubernetes_logs"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":314},"id":373,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"8.1.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (host) (rate(vector_component_received_events_total{component_kind=\"source\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Input events count per host (events/sec)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":314},"id":374,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"8.1.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (host) (rate(vector_component_received_bytes_total{component_kind=\"source\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Input bytes rate per host (bytes/sec)","type":"timeseries"}],"title":"INPUT","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":34},"id":370,"panels":[{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":35},"id":375,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_id) (rate(vector_component_received_events_total{component_kind=\"transform\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Transform events count (events/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"alias":"Total","mode":"reduceRow","reduce":{"include":["internal_metrics","journald","kubernetes_logs"],"reducer":"sum"},"replaceFields":false}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":35},"id":376,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_id) (rate(vector_component_received_event_bytes_total{component_kind=\"transform\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Transform bytes rate (bytes/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"alias":"Total","mode":"reduceRow","reduce":{"include":["internal_metrics","journald","kubernetes_logs"],"reducer":"sum"},"replaceFields":false}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":83},"id":377,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (host) (rate(vector_component_received_events_total{component_kind=\"transform\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Transform events count per host (events/sec)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":83},"id":378,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (host) (rate(vector_component_received_event_bytes_total{component_kind=\"transform\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Transform bytes rate per host (bytes/sec)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"description":"A ratio from 0 to 1 of the load on a component. A value of 0 would indicate a completely idle component that is simply waiting for input. A value of 1 would indicate a that is never idle. This value is updated every 5 seconds.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":91},"id":332,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"multi","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"avg by (component_id) (vector_utilization{component_kind=\"transform\"})","legendFormat":"{{component_id}}","range":true,"refId":"A"}],"title":"Transform utilization","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"description":"A ratio from 0 to 1 of the load on a component. A value of 0 would indicate a completely idle component that is simply waiting for input. A value of 1 would indicate a that is never idle. This value is updated every 5 seconds.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"unit":"percentunit"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":91},"id":396,"options":{"legend":{"displayMode":"list","placement":"right","showLegend":true},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"sort":"desc","tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"avg by (component_id) (vector_utilization{component_kind=\"transform\"})","legendFormat":"{{component_id}}","range":true,"refId":"A"}],"title":"Transform utilization","type":"piechart"}],"title":"TRANSFORM","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":35},"id":371,"panels":[{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":164},"id":379,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_id) (rate(vector_component_received_events_total{component_kind=\"sink\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Output events count (events/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"alias":"Total","mode":"reduceRow","reduce":{"include":["internal_metrics","journald","kubernetes_logs"],"reducer":"sum"},"replaceFields":false}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":164},"id":380,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (component_id) (rate(vector_component_received_event_bytes_total{component_kind=\"sink\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Output events bytes (bytes/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"alias":"Total","mode":"reduceRow","reduce":{"include":["internal_metrics","journald","kubernetes_logs"],"reducer":"sum"},"replaceFields":false}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":172},"id":381,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (host) (rate(vector_component_received_events_total{component_kind=\"sink\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Output events count per host (events/sec)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":172},"id":382,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"sum by (host) (rate(vector_component_received_event_bytes_total{component_kind=\"sink\", host=~\"$pod\"}[1m]))","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Output events size per host (bytes/sec)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"description":"A ratio from 0 to 1 of the load on a component. A value of 0 would indicate a completely idle component that is simply waiting for input. A value of 1 would indicate a that is never idle. This value is updated every 5 seconds.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":180},"id":383,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"multi","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"avg by (component_id) (vector_utilization{component_kind=\"sink\"})","legendFormat":"{{component_id}}","range":true,"refId":"A"}],"title":"Output utilization","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"description":"A ratio from 0 to 1 of the load on a component. A value of 0 would indicate a completely idle component that is simply waiting for input. A value of 1 would indicate a that is never idle. This value is updated every 5 seconds.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"unit":"percentunit"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":180},"id":395,"options":{"legend":{"displayMode":"list","placement":"right","showLegend":true},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"sort":"desc","tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"editorMode":"code","expr":"avg by (component_id) (vector_utilization{component_kind=\"sink\"})","legendFormat":"{{component_id}}","range":true,"refId":"A"}],"title":"Output utilization","type":"piechart"}],"title":"OUTPUT","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":36},"id":372,"panels":[{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"bytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":37},"id":363,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(component_id) (vector_buffer_byte_size{buffer_type=\"memory\", host=~\"$pod\"})","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Buffer size","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"bytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":37},"id":364,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(host) (vector_buffer_byte_size{buffer_type=\"memory\", host=~\"$pod\"})","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Buffer size per host","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":45},"id":366,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(component_id) (rate(vector_buffer_sent_bytes_total{buffer_type=\"memory\", host=~\"$pod\"}[1m]))","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Buffer sent size (bytes/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":45},"id":365,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(host) (rate(vector_buffer_sent_bytes_total{buffer_type=\"memory\", host=~\"$pod\"}[1m]))","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"{{pod}}","range":true,"refId":"A","useBackend":false}],"title":"Buffer sent size per host (bytes/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"fieldMinMax":false,"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":53},"id":367,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(component_id) (rate(vector_buffer_sent_events_total{buffer_type=\"memory\", host=~\"$pod\"}[1m]))","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Buffer sent events (count/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":53},"id":385,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(host) (rate(vector_buffer_sent_events_total{buffer_type=\"memory\", host=~\"$pod\"}[1m]))","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"{{pod}}","range":true,"refId":"A","useBackend":false}],"title":"Buffer sent events per host (count/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":61},"id":386,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(component_id) (rate(vector_buffer_received_bytes_total{buffer_type=\"memory\", host=~\"$pod\"}[1m]))","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Buffer received size (bytes/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"binBps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":61},"id":387,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(host) (rate(vector_buffer_received_bytes_total{buffer_type=\"memory\", host=~\"$pod\"}[1m]))","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"{{pod}}","range":true,"refId":"A","useBackend":false}],"title":"Buffer received size per host (bytes/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"fieldMinMax":false,"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":69},"id":388,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(component_id) (rate(vector_buffer_received_events_total{buffer_type=\"memory\", host=~\"$pod\"}[1m]))","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Buffer received events (count/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${Datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"cps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":69},"id":389,"options":{"legend":{"calcs":["mean","max"],"displayMode":"list","placement":"right","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.2.1","targets":[{"datasource":{"type":"prometheus","uid":"${DS_MIMIR-INFRA}"},"disableTextWrap":false,"editorMode":"code","expr":"sum by(host) (rate(vector_buffer_received_events_total{buffer_type=\"memory\", host=~\"$pod\"}[1m]))","fullMetaSearch":false,"includeNullMetadata":true,"legendFormat":"{{pod}}","range":true,"refId":"A","useBackend":false}],"title":"Buffer received events per host (count/sec)","transformations":[{"disabled":true,"id":"calculateField","options":{"mode":"reduceRow","reduce":{"include":["akamai_cm","akamai_dlr","cloudfront_log","vector_metrics"],"reducer":"sum"}}}],"type":"timeseries"}],"title":"BUFFER","type":"row"}],"refresh":"30s","schemaVersion":42,"tags":["vector","logging"],"templating":{"list":[{"current":{},"name":"Datasource","options":[],"query":"prometheus","refresh":1,"regex":"","type":"datasource"},{"allValue":".*","current":{},"datasource":{"type":"prometheus","uid":"${Datasource}"},"definition":"label_values(kube_pod_info{pod=~\"vector-agent-.*\"},pod)","includeAll":true,"multi":true,"name":"pod","options":[],"query":{"qryType":1,"query":"label_values(kube_pod_info{pod=~\"vector-agent-.*\"},pod)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","sort":1,"type":"query"}]},"time":{"from":"now-1h","to":"now"},"timepicker":{},"timezone":"browser","title":"Vector Metrics","uid":"vector1111","version":1,"weekStart":""}